#!/bin/bash

# Function to print usage
print_usage() {
    echo "Usage: gnv {start|stop|setup|status|sim|--help|-h}"
    echo "Commands:"
    echo "  start     Start services."
    echo "  stop      Stop services."
    echo "  status    Check services status."
    echo "  setup     Setup services by preparing Docker containers."
    echo ""
    echo "            WARNING:
    echo "            - Setup may use a temporary swapfile on memory limited systems.
    echo "            - Setup may take a long time.
    echo ""
    echo "  sim       Manage simulation related tasks (placeholder, not implemented)."
    echo "  --help|-h Show this help message."
}

# Check if an argument is provided
if [ $# -eq 0 ]; then
    print_usage
    exit 1
fi

# Handle the command
case "$1" in
    start)
        /usr/lib/gisnav/start.sh
        ;;
    stop)
        /usr/lib/gisnav/stop.sh
        ;;
    setup)
        /usr/lib/gisnav/prepare.sh
        ;;
    status)
        /usr/lib/gisnav/status.sh
        ;;
    sim)
        echo "The 'sim' command is not implemented yet."
        ;;
    --help|-h)
        print_usage
        ;;
    *)
        echo "Invalid command: $1"
        print_usage
        exit 1
        ;;
esac
